---

## Title: ~/Documents/src/Ansible/ansible-network/roles/docker-whoami/tasks/main.yml
## Description: Setup simeple whoami web server in docker
## Author: Joseph Harry <findarato@gmail.com>
## Copyright: Joseph Harry <findarato@gmail.com>
## Date: 2025-09-25 10:18:38
## 
## This program is free software; you can redistribute it and/or modify
## it under the terms of the GNU General Public License as published by
## the Free Software Foundation; either version 2 of the License, or
## (at your option) any later version.
## This program is distributed in the hope that it will be useful,
## but WITHOUT ANY WARRANTY; without even the implied warranty of
## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
## GNU General Public License for more details.
## You should have received a copy of the GNU General Public License along
## with this program; if not, write to the Free Software Foundation, Inc.
## 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.


# tasks file for docker-transmission
- name: Grow the Ways
  community.docker.docker_network:
    name: "{{ docker_network }}"


- name: Create and Update whoami Container
  community.docker.docker_container:
    name: whoami
    image: traefik/whoami
    state: started
    restart_policy: unless-stopped
    recreate: yes
    restart: yes
    pull: true
    dns_servers:
      - 1.1.1.1
      - 1.0.0.1
    networks_cli_compatible: false
    networks:
      - name: theways
    container_default_behavior: no_defaults
    log_driver: "{{ docker_log_driver }}"
    log_options: "{{ docker_log_options}}"
  tags:
    - whoami